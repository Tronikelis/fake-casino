(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{144:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(10),i=n.n(r),a=n(13),s=n(11),o=n(182),l=n(174),j=n(186),b=n(184),u=n(185),d=n(2),O=Object(l.a)((function(e){return Object(j.a)({root:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row"}})})),h=function(e){var t=e.state,n=O(),r=t.setSignedIn,i=Object(c.useState)(""),a=Object(s.a)(i,2),o=a[0],l=a[1],j=Object(c.useState)(!1),h=Object(s.a)(j,2),x=h[0],m=h[1];Object(c.useEffect)((function(){localStorage.getItem("username")&&r(!0)}),[]);return Object(d.jsxs)("div",{className:n.root,children:[Object(d.jsx)("div",{children:Object(d.jsx)(b.a,{value:o,onChange:function(e){return l(e.target.value)},variant:"outlined",label:"Username"})}),Object(d.jsx)("div",{style:{width:20}}),Object(d.jsx)("div",{children:Object(d.jsx)(u.a,{variant:"contained",color:"primary",size:"large",disabled:x,onClick:function(){o.length>25||(m(!0),localStorage.setItem("username",o.trim()),r(!0))},children:"Enter"})})]})},x=n(181),m=n(90),f=n.n(m),g=n(179),p=n(91),v=Object(c.createContext)({context:{money:1500,previous:"\u26ab"},setContext:function(){}}),y=v,w=function(e){var t=e.children,n=Object(c.useState)({money:1500,previous:"\u26ab"}),r=Object(s.a)(n,2),i={context:r[0],setContext:r[1]};return Object(d.jsx)(v.Provider,{value:i,children:t})},k=Object(l.a)((function(e){return Object(j.a)({root:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"align"},wheel:{width:"100%",height:"100%",display:"grid",placeItems:"center"}})})),C=[{option:"0"},{option:"1"},{option:"2"},{option:"3"},{option:"4"},{option:"5"},{option:"6"},{option:"7"},{option:"8"},{option:"9"},{option:"10"},{option:"11"},{option:"12"},{option:"13"},{option:"14"}],S=["#04853b","#3e3e3e","#df3428","#3e3e3e","#df3428","#3e3e3e","#df3428","#3e3e3e","#df3428","#3e3e3e","#df3428","#3e3e3e","#df3428","#3e3e3e","#df3428"],I=function(e){var t=e.socket,n=e.state,r=k(),i=n.setSpinning,o=n.spinning,l=n.prize,j=n.setPrize,b=Object(c.useState)(0),u=Object(s.a)(b,2),O=u[0],h=u[1],x=Object(c.useContext)(y).setContext;Object(c.useEffect)((function(){t.on("wheel",(function(e){j(e.prize),i(e.spin)})),t.on("time",(function(e){h(e.timer)}))}),[]);return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:r.root,children:Object(d.jsxs)("div",{children:[Object(d.jsxs)(g.a,{variant:"h4",gutterBottom:!0,align:"center",children:["Spinning in: ",25-O]}),Object(d.jsx)("div",{className:r.wheel,children:Object(d.jsx)(p.Wheel,{data:C,mustStartSpinning:o,onStopSpinning:function(){if(i(!1),0!==l){var e=l%2===0?"\ud83d\udd34":"\u26ab";x((function(t){return t.previous=e,Object(a.a)({},t)}))}else x((function(e){return e.previous="\ud83d\udfe2",Object(a.a)({},e)}))},prizeNumber:l,backgroundColors:S,textColors:["#ffffff"]})})]})})})},N=n(54),F=n(178),E=n(180),z=n(92),D=Object(l.a)((function(e){return Object(j.a)({root:{width:"100%",height:"80vh",display:"flex",justifyContent:"space-around",flexDirection:"column"},paper:{width:"100%",height:"100%"},chat:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end",overflow:"auto"},text:{wordBreak:"break-word",padding:10,margin:10,whiteSpace:"pre-line"}})})),B=!1;setInterval((function(){B=!0}),1e3);var T=function(e){var t=e.socket,n=D(),r=Object(c.useState)(""),i=Object(s.a)(r,2),a=i[0],o=i[1],l=Object(c.useState)([]),j=Object(s.a)(l,2),u=j[0],O=j[1],h=Object(c.useRef)(null);return Object(c.useEffect)((function(){t.on("message",(function(e){O((function(t){return[].concat(Object(N.a)(t),[e])}))}))}),[]),Object(c.useEffect)((function(){var e;null===(e=h.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),[u]),Object(z.a)("keydown",(function(e){if(console.log(e),!e.shiftKey&&B&&13===e.keyCode){if(console.log("Enter pressed"),!a.trim())return;if(a.trim().length>800)return;e.preventDefault(),t.emit("message",{name:localStorage.getItem("username"),message:a.replace(/[\r\n]+/g,"\n").trim()}),o(""),B=!1}})),Object(d.jsxs)("div",{className:n.root,children:[Object(d.jsx)(F.a,{variant:"outlined",className:n.paper,children:Object(d.jsx)("div",{className:n.chat,children:Object(d.jsxs)("div",{children:[u.map((function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(F.a,{elevation:15,className:n.text,children:[Object(d.jsxs)(g.a,{variant:"button",style:{color:e.name===localStorage.getItem("username")?"#DF3428":"black"},children:[e.name,":"]}),Object(d.jsx)(E.a,{}),Object(d.jsx)(g.a,{variant:"subtitle1",children:e.message})]})})})),Object(d.jsx)("div",{ref:h})]})})}),Object(d.jsx)("div",{style:{height:15}}),Object(d.jsx)(b.a,{variant:"outlined",label:"Message",value:a,maxRows:5,multiline:!0,onChange:function(e){return o(e.target.value)}})]})},P=Object(l.a)((function(e){return Object(j.a)({root:{width:"100%",height:"100%",display:"grid",placeItems:"center"},paper:{width:"80%",height:"100%",padding:20,display:"flex",justifyContent:"space-around",alignItems:"center",flexDirection:"row"},content:{width:"100%",height:"100%",display:"flex",justifyContent:"space-around",alignItems:"center",flexDirection:"row"}})})),R=(new Intl.NumberFormat).format,J=function(e){var t=e.socket,n=P(),r=Object(c.useContext)(y).context,i=r.money,a=r.previous,o=Object(c.useState)(0),l=Object(s.a)(o,2),j=l[0],b=l[1];return Object(c.useEffect)((function(){t.on("active",(function(e){b(e.users)}))}),[]),Object(d.jsx)("div",{className:n.root,children:Object(d.jsxs)(F.a,{className:n.paper,children:[Object(d.jsx)("div",{children:Object(d.jsxs)(g.a,{variant:"subtitle1",align:"center",children:["Users: ",j," | ",localStorage.getItem("username")]})}),Object(d.jsx)("div",{children:Object(d.jsxs)(g.a,{variant:"button",align:"center",children:["Tokens: ",R(Number(i))]})}),Object(d.jsx)("div",{children:Object(d.jsxs)(g.a,{align:"center",children:["Last: ",a]})})]})})},U=n(93),G=n.n(U),K=Object(l.a)((function(e){return Object(j.a)({root:{width:"100%",height:"80vh",display:"flex"},paper:{width:"100%",height:"100%",padding:5},bottom:{width:"100%",height:"100%",display:"flex",justifyContent:"space-around",alignItems:"flex-start",flexDirection:"row"},top:{width:"100%",height:"auto",display:"flex",justifyContent:"center",alignItems:"center"},inner:{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"}})})),L=function(e){var t=e.socket,n=e.state,r=K(),i=n.bets,o=n.setBets,l=n.spinning,j=n.prize,O=Object(c.useState)(!1),h=Object(s.a)(O,2),x=h[0],m=h[1],f=Object(c.useState)([]),p=Object(s.a)(f,2),v=p[0],w=p[1];Object(c.useEffect)((function(){t.on("others",(function(e){console.log({res:e}),w((function(t){return[].concat(Object(N.a)(t),[e])}))}))}),[]);var k=Object(c.useContext)(y),C=k.setContext,S=k.context;Object(c.useEffect)((function(){if(!l){var e=i.black,t=i.green,n=i.red;if(e||t||n)if(0===j&&t)C((function(e){return e.money=e.money+14*t,Object(a.a)({},e)}));else{var c=j%2===0?"red":"black";"black"===c&&e?C((function(t){return t.money=t.money+2*e,Object(a.a)({},t)})):"red"===c&&n&&C((function(e){return e.money=e.money+2*n,Object(a.a)({},e)}))}m(!1),w([]),o({black:0,green:0,red:0})}}),[l]);return Object(d.jsx)("div",{className:r.root,children:Object(d.jsxs)(F.a,{className:r.paper,children:[Object(d.jsx)("div",{className:r.top,children:Object(d.jsx)(u.a,{size:"large",variant:"contained",color:"primary",endIcon:Object(d.jsx)(G.a,{}),disabled:x,onClick:function(){var e;m(!0);var n=S.money-(i.red+i.black+i.green);n<0||(C((function(e){return e.money=n,Object(a.a)({},e)})),t.emit("others",{username:null!==(e=localStorage.getItem("username"))&&void 0!==e?e:"?",bets:i}),console.log({bets:i}))},children:"Bet"})}),Object(d.jsx)("div",{style:{height:10}}),Object(d.jsxs)("div",{className:r.bottom,children:[Object(d.jsxs)("div",{className:r.inner,children:[Object(d.jsx)(b.a,{type:"number",color:"secondary",value:i.black,onChange:function(e){o((function(t){return t.black=Number(e.target.value),Object(a.a)({},t)}))},helperText:"Current: ".concat(i.black),label:"Black \u26ab"}),Object(d.jsx)(E.a,{}),v.map((function(e){return Object(d.jsx)(d.Fragment,{children:0!==e.bets.black&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)(g.a,{children:[e.username,":"]}),Object(d.jsx)(g.a,{children:e.bets.black})]}),Object(d.jsx)(E.a,{})]})})}))]}),Object(d.jsxs)("div",{className:r.inner,children:[Object(d.jsx)(b.a,{type:"number",color:"secondary",value:i.green,onChange:function(e){o((function(t){return t.green=Number(e.target.value),Object(a.a)({},t)}))},helperText:"Current: ".concat(i.green),label:"Green \ud83d\udfe2"}),Object(d.jsx)(E.a,{}),v.map((function(e){return Object(d.jsx)(d.Fragment,{children:0!==e.bets.green&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)(g.a,{children:[e.username,":"]}),Object(d.jsx)(g.a,{children:e.bets.green})]}),Object(d.jsx)(E.a,{})]})})}))]}),Object(d.jsxs)("div",{className:r.inner,children:[Object(d.jsx)(b.a,{type:"number",label:"Red \ud83d\udd34",color:"secondary",value:i.red,onChange:function(e){o((function(t){return t.red=Number(e.target.value),Object(a.a)({},t)}))},helperText:"Current: ".concat(i.red)}),Object(d.jsx)(E.a,{}),v.map((function(e){return Object(d.jsx)(d.Fragment,{children:0!==e.bets.red&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)(g.a,{children:[e.username,":"]}),Object(d.jsx)(g.a,{children:e.bets.red})]}),Object(d.jsx)(E.a,{})]})})}))]})]})]})})},M=f()(),V=Object(l.a)((function(e){return Object(j.a)({root:{width:"100%",height:"100%",display:"grid",placeItems:"center"},grid:{width:"100%",height:"100%"}})})),W=function(){var e=V(),t=Object(c.useState)({red:0,black:0,green:0}),n=Object(s.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)(!1),l=Object(s.a)(o,2),j=l[0],b=l[1],u=Object(c.useState)(0),O=Object(s.a)(u,2),h=O[0],m={bets:r,setBets:i},f={spinning:j,setSpinning:b,prize:h,setPrize:O[1]};return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:e.root,children:Object(d.jsxs)(x.a,{className:e.grid,container:!0,spacing:2,direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[Object(d.jsx)(x.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12,children:Object(d.jsx)(J,{socket:M})}),Object(d.jsx)(x.a,{item:!0,xs:12,sm:12,md:3,lg:3,xl:3,children:Object(d.jsx)(T,{socket:M})}),Object(d.jsx)(x.a,{item:!0,lg:!0,children:Object(d.jsx)(I,{state:f,socket:M})}),Object(d.jsx)(x.a,{item:!0,xs:12,sm:12,md:4,lg:4,xl:4,children:Object(d.jsx)(L,{socket:M,state:Object(a.a)(Object(a.a)({},m),{},{spinning:j,prize:h})})})]})})})},q=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(c.useContext)(y),l=i.context,j=i.setContext;return Object(c.useEffect)((function(){return localStorage.getItem("money")||(localStorage.setItem("money","1500"),j((function(e){return e.money=1500,Object(a.a)({},e)}))),function(){localStorage.setItem("money",l.money.toString())}}),[]),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(o.a,{children:Object(d.jsx)(w,{children:n?Object(d.jsx)(W,{}):Object(d.jsx)(h,{state:{signedIn:n,setSignedIn:r}})})})})},A=n(94),H=n(183),Q=Object(A.a)({palette:{type:"dark"}});i.a.render(Object(d.jsx)(H.a,{theme:Q,children:Object(d.jsx)(q,{})}),document.getElementById("root"))}},[[144,1,2]]]);